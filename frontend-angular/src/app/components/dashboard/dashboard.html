<div class="flex flex-col gap-6">

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">

    <app-stat-card
      [titulo]="'Insumos Críticos'"
      [valor]="cardInsumosValor()"
      [subtexto]="cardInsumosSubtexto()"
      [color]="'blue'">
    </app-stat-card>

    <app-stat-card
      [titulo]="'Alertas Activas'"
      [valor]="cardAlertasValor()"
      [subtexto]="cardAlertasSubtexto()"
      [color]="'red'">
    </app-stat-card>

    <app-stat-card
      [titulo]="'Precisión IA'"
      [valor]="cardPrediccionValor()"
      [subtexto]="cardPrediccionSubtexto()"
      [color]="'green'">
    </app-stat-card>

    <app-stat-card
      [titulo]="'Próx. a Caducar'"
      [valor]="cardCaducidadValor()"
      [subtexto]="cardCaducidadSubtexto()"
      [color]="'yellow'">
    </app-stat-card>

  </div>

  <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
    <div class="lg:col-span-2 bg-white rounded-lg shadow-md p-5">
      <h3 class="text-lg font-semibold mb-4">Insumos Recientes</h3>
      @if (isLoadingInsumos()) {
        <div class="flex justify-center items-center h-48">
          <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"></div>
          <span class="ml-4 text-gray-500">Cargando insumos...</span>
        </div>
      } @else {
        <app-dashboard-table [insumos]="insumosParaTabla()"></app-dashboard-table>
      }
    </div>
    <div class="bg-white rounded-lg shadow-md p-5">
      <h3 class="text-lg font-semibold mb-4">Predicción de Demanda</h3>
      <app-dashboard-chart></app-dashboard-chart>
    </div>
      </div>

      <app-panel-alertas></app-panel-alertas>
</div>
